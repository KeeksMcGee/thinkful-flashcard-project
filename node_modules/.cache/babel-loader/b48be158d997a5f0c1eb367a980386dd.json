{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\livel\\\\Thinkful\\\\qualified-challenges\\\\Project_Flashcards_Qualified_1\\\\src\\\\Layout\\\\EditCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport { readDeck, updateCard, createCard, readCard } from \"../utils/api\";\nimport NavBar from \"./NavBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditCard({\n  mode,\n  setUpdate,\n  update\n}) {\n  _s();\n\n  const {\n    deckId,\n    cardId = null\n  } = useParams();\n  const history = useHistory();\n  const [deckCurrent, setDeckCurrent] = useState();\n  const [cardData, setCardData] = useState({\n    front: \"\",\n    back: \"\"\n  });\n\n  const handleCardData = ({\n    target\n  }) => setCardData({ ...cardData,\n    [target.name]: target.value\n  });\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    readDeck(deckId, abortController.signal).then(setDeckCurrent).catch(err => console.log(err));\n\n    if (cardId !== null) {\n      readCard(cardId, abortController.signal).then(setCardData).catch(err => console.log(err));\n    }\n\n    return () => abortController.abort();\n  }, [deckId, cardId]);\n\n  function reloadData() {\n    setUpdate(!update);\n  }\n\n  const submitCard = () => {\n    const abortController = new AbortController();\n\n    if (mode === \"Create\") {\n      createCard(deckId, { ...cardData\n      }, abortController.signal).then(reloadData()).catch(err => console.log(err));\n    } else {\n      updateCard({ ...cardData\n      }, abortController.signal).then(reloadData()).catch(err => console.log(err));\n    }\n\n    history.push(`/decks/${deckId}`);\n    return () => abortController.abort();\n  };\n\n  if (cardData !== undefined && deckCurrent !== undefined) {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [mode === \"Create\" ? /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(NavBar, {\n          navData: [\"Add Card\", deckCurrent, cardId]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [deckCurrent.name, \": Add Card\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(NavBar, {\n          navData: [\"Edit Card\", deckCurrent]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Edit Card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"d-flex col\",\n            children: \"Front\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"d-flex col\",\n            placeholder: \"Front side of Card\",\n            name: \"front\",\n            value: cardData.front,\n            onChange: handleCardData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"d-flex col\",\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"d-flex col\",\n            placeholder: \"Back side of Card\",\n            name: \"back\",\n            value: cardData.back,\n            onChange: handleCardData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        type: \"button\",\n        className: \"btn btn-secondary m-1\",\n        to: `/decks/${deckId}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"oi oi-circle-x m-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), \"Cancel\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary m-1\",\n        onClick: submitCard,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"oi oi-circle-check m-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), mode === \"Create\" ? \"Save\" : \"Submit\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  } else {\n    return null;\n  }\n}\n\n_s(EditCard, \"Elt/oqpt/RjAUzNRi/jGvJOtjiM=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = EditCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCard\");","map":{"version":3,"sources":["C:/Users/livel/Thinkful/qualified-challenges/Project_Flashcards_Qualified_1/src/Layout/EditCard.js"],"names":["React","Fragment","useEffect","useState","Link","useParams","useHistory","readDeck","updateCard","createCard","readCard","NavBar","EditCard","mode","setUpdate","update","deckId","cardId","history","deckCurrent","setDeckCurrent","cardData","setCardData","front","back","handleCardData","target","name","value","abortController","AbortController","signal","then","catch","err","console","log","abort","reloadData","submitCard","push","undefined"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\n\nimport { readDeck, updateCard, createCard, readCard } from \"../utils/api\";\n\nimport NavBar from \"./NavBar\";\n\nexport default function EditCard({ mode, setUpdate, update }) {\n  const { deckId, cardId = null } = useParams();\n  const history = useHistory();\n  const [deckCurrent, setDeckCurrent] = useState();\n  const [cardData, setCardData] = useState({ front: \"\", back: \"\" });\n\n  const handleCardData = ({ target }) =>\n    setCardData({ ...cardData, [target.name]: target.value });\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    readDeck(deckId, abortController.signal)\n      .then(setDeckCurrent)\n      .catch((err) => console.log(err));\n    if (cardId !== null) {\n      readCard(cardId, abortController.signal)\n        .then(setCardData)\n        .catch((err) => console.log(err));\n    }\n    return () => abortController.abort();\n  }, [deckId, cardId]);\n\n  function reloadData() {\n    setUpdate(!update);\n  }\n\n  const submitCard = () => {\n    const abortController = new AbortController();\n    if (mode === \"Create\") {\n      createCard(deckId, { ...cardData }, abortController.signal)\n        .then(reloadData())\n        .catch((err) => console.log(err));\n    } else {\n      updateCard({ ...cardData }, abortController.signal)\n        .then(reloadData())\n        .catch((err) => console.log(err));\n    }\n    history.push(`/decks/${deckId}`);\n    return () => abortController.abort();\n  };\n\n  if (cardData !== undefined && deckCurrent !== undefined) {\n    return (\n      <Fragment>\n        {mode === \"Create\" ? (\n          <Fragment>\n            <NavBar navData={[\"Add Card\", deckCurrent, cardId]} />\n            <h2>{deckCurrent.name}: Add Card</h2>\n          </Fragment>\n        ) : (\n          <Fragment>\n            <NavBar navData={[\"Edit Card\", deckCurrent]} />\n            <h2>Edit Card</h2>\n          </Fragment>\n        )}\n        <form>\n          <div className=\"form-group\">\n            <label className=\"d-flex col\">Front</label>\n            <textarea\n              className=\"d-flex col\"\n              placeholder=\"Front side of Card\"\n              name=\"front\"\n              value={cardData.front}\n              onChange={handleCardData}\n            ></textarea>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"d-flex col\">Back</label>\n            <textarea\n              className=\"d-flex col\"\n              placeholder=\"Back side of Card\"\n              name=\"back\"\n              value={cardData.back}\n              onChange={handleCardData}\n            ></textarea>\n          </div>\n        </form>\n        <Link\n          type=\"button\"\n          className=\"btn btn-secondary m-1\"\n          to={`/decks/${deckId}`}\n        >\n          <span className=\"oi oi-circle-x m-1\" />\n          Cancel\n        </Link>\n        <button className=\"btn btn-primary m-1\" onClick={submitCard}>\n          <span className=\"oi oi-circle-check m-1\" />\n          {mode === \"Create\" ? \"Save\" : \"Submit\"}\n        </button>\n      </Fragment>\n    );\n  } else {\n    return null;\n  }\n}"]},"metadata":{},"sourceType":"module"}